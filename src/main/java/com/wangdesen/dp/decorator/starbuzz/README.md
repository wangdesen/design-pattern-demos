# decorator-pattern-demos

---

#### 装饰者模式
模式定义：动态地给一个对象增加一些额外的职责，就增加对象功能而言，装饰者模式比生成子类实现更加灵活

#### 模式结构
- Component：抽象构件
- ConcreteComponent：具体构件
- Decorator：抽象装饰类
- ConcreteDecorator：具体装饰类

#### UML类图
![decorator_uml icon](https://design-patterns.readthedocs.io/zh_CN/latest/_images/Decorator.jpg)

#### 时序图
![decorator_time icon](https://design-patterns.readthedocs.io/zh_CN/latest/_images/seq_Decorator.jpg)

#### 模式分析
- 与继承关系相比，关联关系主要优势是不会破坏类的封装性。继承关系是一种耦合度较大的静态关系，无法在程序运行时动态扩展。
关联关系有较好的松耦合性，是系统更容易维护。缺点就是需要创建更多的对象
- 使用装饰者模式来实现扩展比继承更灵活，而且可以在不需要更多子类的情况下，将对象的功能加以扩展

#### 优点
- 装饰模式和继承关系的目的都是扩展对象的功能，但是装饰模式可以提供比继承更多的灵活性
- 可以通过一种动态的方式来扩展一个对象的功能
- 通过不同的具体装饰类和具体构件的排列组合，可以构造出更强大的对象
- 具体构件和具体装饰类可以独立地变化，用户可以根据需要增加新的具体构件类和具体装饰类，在使用时进行组合，原有代码无需修改，符合“开闭原则”

#### 缺点
- 使用装饰者模式将产生很多小对象和具体装饰类，将会增加系统的复杂度
- 比继承更灵活机动的特性意味着比继承更容易出错，对于多次装饰的对象，调试时需要逐级排查，比较麻烦

#### 装饰者模式咖啡店(Starbuzz咖啡店)

- Bevarage(抽象饮料类)，饮料基本描述

- Condiment(抽象调味品)，继承自Bevarage，利用继承达到【类型匹配】的效果

- 四种咖啡，四种调料

- 多种选择，多种口味